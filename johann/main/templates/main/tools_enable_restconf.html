{% extends 'main/_base.html' %}

{% block title %} Enable RESTCONF {% endblock %}

{% block content %}
{{ response_output | json_script:"response_output" }}
<script>task_status("task_content")</script>
<div class="section">
    <div class="row">
        <div class="col-xl-5">
            <div class="panel panel--loose panel--raised base-margin-bottom">
                <h2 class="subtitle">Enable RESTCONF on IOS XE device</h2>
                <hr>
                <form method="post" action="/enable_restconf/">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" name="get_json" class="btn btn--primary">Enable RESTCONF</button>
                </form>
                <div id="status_box"></div>
            </div>
        </div>
        <div class="col-xl-7">
            <div class="panel panel--loose panel--raised base-margin-bottom">
                <h2 class="subtitle">What does it do?</h2>
                <hr>
                <div class="alert alert--info">
                    <div class="alert__icon icon-info-outline"></div>
                    <div class="alert__message">
                        <p>If RESTCONF is not enabled on the device, you can simple enable it here. Technically this is done via the Python library netmiko. This config will be applied on the device:</p>
                <code><pre>
device(config)# ip http secure-server
device(config)# restconf</pre></code>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xl-12">
            <div class="panel panel--loose panel--raised base-margin-bottom">
                <h2 class="subtitle">Output</h2>
                <hr>
                <pre><code id="result"></code></pre>
            </div>
        </div>
    </div>
</div>
{% endblock %}